<?xml version="1.0"?>
<openerp>
    <data>
        <!--product.product.web.server
        <record model="ir.ui.view" id="view_product_product_web_server_wp_form">
            <field name="name">product.product.web.server.form</field>
            <field name="model">product.product.web.server</field>
            <field name="priority" eval="40"/>
            <field name="arch" type="xml">
                
            </field>
        </record>-->

        <record model="ir.ui.view" id="view_wordpress_connector_form">
            <field name="name">connector.server.attribute.form</field>
            <field name="model">connector.server</field>
            <field name="inherit_id" ref="connector_web_base.view_connector_server_form"/>
            <field name="arch" type="xml">
                <xpath expr="//header/button" position="after">
                    <button name="publish_attribute_now" string="Publish attribute" type="object" 
                        confirm="Export product attribute where managed, confirm?" 
                        class="oe_highlight" icon="gtk-refresh" attrs="{'invisible': [('wordpress','=',False)]}" />
                </xpath>                
                <field name="name" position="after">
                    <field name="brand_code" />
                    <field name="dot_image_path" colspan="4" />
                </field>                
            </field>
        </record>    
        
        <!--connector.product.color.dot-->
        <record model="ir.ui.view" id="view_connector_product_color_dot_tree">
            <field name="name">connector.product.color.dot.tree</field>
            <field name="model">connector.product.color.dot</field>
            <field name="arch" type="xml">
                <tree string="String" colors="grey:not_active==True">
                    <field name="connector_id" />
                    <field name="not_active" />                    
                    <field name="name" />
                    <field name="description" />
                    <field name="hint" />
                    <field name="image_name" />                    
                </tree>
            </field>
        </record>
        <record model="ir.ui.view" id="view_connector_product_color_dot_form">
            <field name="name">connector.product.color.dot.form</field>
            <field name="model">connector.product.color.dot</field>
            <field name="arch" type="xml">
                <form string="Colori Dot">                
                    <sheet> 
                        <group colspan="4" col="4">                
                            <field name="connector_id" />
                            <newline/>
                            
                            <field name="not_active" />                    
                            <field name="name" />

                            <field name="description" />
                            <field name="hint" />
                            
                            <separator string="Image not present:" colspan="4" attrs="{'invisible': [('image_present','=',True)]}" />
                            <separator string="Image present:" colspan="4" attrs="{'invisible': [('image_present','=',False)]}" />
                            <field name="image_name" />                    
                            <field name="image_fullname" />                    
                            <field name="image_present" invisible="1" />        
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_connector_product_color_dot">
            <field name="name">Dot colore</field>
            <field name="res_model">connector.product.color.dot</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_connector_product_color_dot_tree"/>
            <field name="context">{}</field>
            <field name="domain">[]</field>
        </record>
        
        <!--product.product.web.server-->
        <record model="ir.actions.act_window" id="action_product_product_parent_tree">
            <field name="name">Prodotto master</field>
            <field name="res_model">product.product.web.server</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="wp_connector.view_product_product_web_server_wp_tree"/>
            <!--<field name="view_id" ref="view_product_product_parent_tree"/>
            <field name="search_view_id" ref="view_product_product_parent_search"/>-->
            <field name="context">{}</field>
            <field name="domain">[('wp_parent_template', '=', True)]</field>
        </record>
        <menuitem 
            parent="wp_connector.menu_connector_worppress_root" 
            id="menu_product_product_parent" 
            action="action_product_product_parent_tree"
            sequence="10"
            />
        <menuitem 
            parent="wp_connector.menu_connector_worppress_configuration" 
            id="menu_action_connector_product_color_dot" 
            action="action_connector_product_color_dot"
            sequence="30"
            />
        
    </data>
</openerp>
